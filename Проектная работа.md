Проектная работа «Закрывающий тег»
Добро пожаловать в последний проект модулей вёрстки!
Учиться — сложно, но вы шаг за шагом продвигаетесь по желаемому пути — это заслуживает восхищения. Раз вы читаете этот текст, то уже преодолели многое, получили новые знания и навыки.
В этой работе мы просим вас вспомнить и отрефлексировать пройденный к этому моменту путь, посмотреть на своё состояние и эмоции на разных этапах учёбы.

Как обычно, в последнем уроке темы, «Сдача проектной работы», к вам в аккаунт GitHub автоматически скопируется стартовый репозиторий. Ознакомьтесь с описанием, чек-листом и получите заготовку. Потом вернитесь к этому уроку и приступайте к выполнению.
Желаем удачи!
В этом проекте вы сначала поработаете над статичной версией, потом над адаптивом, и в самом конце разберётесь с анимацией. Напомним, что такой подход помогает воспринимать проект как единое целое, а не как совокупность отдельных частей.
Шаг 1. Настройка проекта

Откройте макет проекта «Закрывающий тег».
Скачайте из Figma необходимые изображения и SVG-файлы. Оптимизируйте их: задайте фавиконам нужные размеры и форматы, разложите всё по папкам проекта. Не скачивайте иконку с сердцем, её нужно использовать иначе. 
Превратите SVG с изображением дискеты в symbol. Вам нужно будет использовать эту иконку так. 
Добавьте в проект фавиконки. Это будут стандартный ico фавикон для поддержки всех браузеров, векторный svg для современных браузеров и растровое изображение для устройств iOS.
Шаг 2. Работа над статичной версией

1. Включите и настройте шрифты

В архиве два шрифта — PressStart2P и Inter. Шрифт Inter вариативный, к нему особое внимание.
Опишите в файле fonts/fonts.css подключение обоих шрифтов. Подключая вариативный Inter, перечислите те веса шрифта, которые используются в макете, в виде диапазона. 
Задайте две переменные с именами этих шрифтов в файле styles/variables.css. Одну — для основного шрифта Inter, а другую — для акцентного PressStart2P. 
Основной шрифт можете смело применить к селектору .page, сославшись на переменную. Только не забудьте указать альтернативный системный шрифт. 
Настройте вес вариативного шрифта. Удобно вынести в переменные толщину основного текста карточки и толщину заголовка карточки. 
Основной вес шрифта применяйте к селектору .page через font-variation-settings. 
Все переменные следует хранить только в файле variables.css.
2. Настройте фон

На фоне страницы расположен сложный множественный градиент. Он остаётся фиксированным при прокрутке. Его задача — создать визуальный эффект сетки, постепенно увеличивая плотность цвета сверху вниз.
Создайте переменную для градиента и используйте её как значение свойства background-image для страницы. Фон должен оставаться фиксированным при прокрутке страницы.
Первый градиент должен создавать повторяющиеся полоски слева направо шириной в 2px:
одна полоска цветом #d3d3d3; 
другая — прозрачная, такого же размера. 
Вспомните про repeating-linear-gradient, именно он вам нужен.
Второму градиенту задайте такие же настройки из полос, но направление его должно идти сверху вниз. У вас получится своеобразная сетка из цветных и прозрачных линий.
Третий градиент должен равномерно перетекать цветами сверху вниз:
В третьем градиенте цвет должен равномерно меняться сверху вниз — от #e7e7e7 к #1a1a1a.
Именно этот последний градиент создаст эффект изменения насыщенности цвета. Мы немного продлили воздействие самого светлого оттенка и начали менять цвет от 0.01% всей высоты градиента, чтобы усилить эффект.
Чтобы такой фон из градиентов занимал всё пространство страницы, присвойте ему размер cover.
3. Доработайте шапку

Блок резиновый. Используйте clamp для расчёта ширины блока. Ширину блока можно будет переиспользовать для остальных блоков проекта, поэтому лучше использовать отдельный класс и вынести расчёт в css-переменную. 
Другие резиновые элементы — логотип, заголовок, отступы в шапке. Используйте clamp. 
Чтобы браузер не воспринимал как теги символы < и >, используйте HTML-мнемоники &lt; и &gt;. 
4. Добавьте основной контент

Рекомендуем сначала создать одну карточку:
По ширине карточки тоже резиновые. Переиспользуйте подход с шириной блока из шапки проекта. 
Иконку с сердцем поместите внутрь тега <button>. Обратите внимание на комментарии в прекоде, там описано, какие классы задать иконке. Если класс будет не тот, то потом лайкнуть иконку не получится. 
Содержимое кнопок Like, «Сохранить на память» и «ОК» оберните в <span> с отдельным классом button__text — позже это поможет вам сделать анимации. Класс button__text также используется для работы скрипта, который при клике или выборе иконки лайка на кнопке Like меняет текст с Like на Unlike. 
Для иконки внутри кнопки «Сохранить на память» используйте тег use и опишите в SVG-файле symbol, а вот иконку сердца придётся вставить в код инлайново. Подробнее об этом в шаге с анимациями. На стадии вёрстки лейаута просто вставьте туда нужную SVG-иконку, чтобы прийти к неанимированному, похожему на макет результату. В Figma эта иконка лежит отдельно от остальных, используйте её на этапе построения лейаута.  

Все состояния интерактивных элементов — наведение и фокусы — оставьте на потом, их удобнее реализовывать вместе с анимациями.
5. Добавьте лейблы на карточки

Поверх каждой карточки должен появиться лейбл:

Создайте обёртку для изображения. В этом контейнере будет лежать изображение и текстовый элемент. 
Спозиционируйте лейбл. 
Добавьте прозрачность. 
Добавьте визуальный эффект с помощью режима смешивания mix-blend-mode: hard-light;. 
Обратите внимание на границу текста. В уроке «Обводка текста» вы изучали, как делать такую стилизацию. Не забудьте проверить поддержку нужного свойства через @supports и сделать фоллбэк в виде text-shadow. Цвет обводки сохраните в отдельной переменной.
Шаг 3. Ваш контент

Переиспользуя разметку карточки, создайте восемь карточек. Добавьте к ним нужные отступы и в каждую вставьте тексты из макета.
Время для творчества. Подберите картинки в каждую из восьми карточек и напишите немного личного текста вместо текста: Место для .... Подумайте о том пути, который уже прошли, о трудностях, с которыми справились. Нам будет очень интересно прочитать ваши мысли. Будет здорово, если вы поделитесь фотографиями из личного архива или подберёте что-то по настроению на Unsplash или Giphy. Не сдерживайте себя!
Вместо лейблов внутри карточки подберите одно или два слова, которыми можете охарактеризовать своё состояние в каждой из описанных точек курса.
Шаг 4. Всплывающее окно

Кнопка «Сохранить на память» отвечает за открытие модального окна. Реализуйте эту механику с помощью изученного на этом спринте элемента dialog. При вёрстке содержимого окна переиспользуйте изображение дискеты и стилизацию кнопок.
По умолчанию диалоговое окно скрыто с помощью свойства display: none.
Чтобы создать две колонки в модальном окне, меняйте свойство display, только когда окно открыто (open). Стилизуйте фон с помощью псевдоэлемента backdrop. Окно должно закрываться по кнопке ОК.
Шаг 5. Адаптивность

Для контрольной точки 375px понадобится сменить отображение. Подойдёт медиазапрос: @media (width <= 375px). 
Скорректируйте правила для нужных элементов согласно макету. Стилей там переопределено совсем немного. Макет практически целиком резиновый.
Шаг 6. Фильтры

Карточки

На каждое изображение добавьте дополнительный уникальный класс. Стилизуйте класс CSS-фильтром, который ещё сильнее подчеркнёт ваш замысел и передаст нужную эмоцию. Минимум на семи картинках должны появиться разные фильтры и хотя бы один из них — множественный.
Шаг 7. Эффекты кнопок

Эффекты на кнопках при фокусе и наведении имеют разную плавность. Кроме того, эффекты кнопок Like, «Сохранить на память» и «ОК» отличаются от эффекта кнопки, оборачивающей сердечко.
Кнопки Like, «Сохранить на память» и «ОК»

Сначала разберёмся с эффектом при фокусе.
В состоянии focus отмените стандартную обводку и добавьте тень блока. Нужная тень сдвинута на два пикселя по осям X и Y, с нулевым размытием, акцентного цвета.
Для box-shadow задайте переход transition с плавностью 0.3s ease. Переход должен срабатывать при событии фокуса и при его снятии. Настройки описывайте в основном селекторе.

По наведению на кнопку должен плавно слева направо появляться псевдоэлемент. Добиться этого можно двумя путями:
через scale от 0 до 1; 
через translate от -100% по оси X до 0. В этом случае кнопке придётся задать overflow. 
Параметры перехода transition здесь — 0.5s ease-in-out. Переход должен срабатывать при событии наведения и при его снятии. Настройки описывайте в основном селекторе псевдоэлемента.

Цвет текста меняется по мере того, как псевдоэлемент движется. Поможет режим смешивания difference. Но придётся правильно подобрать цвета:
Чтобы текст оказался выше псевдоэлемента, сделайте вложенный в кнопку span относительно спозиционированным и при необходимости задайте z-index.
Укажите белый цвет для текста и белый цвет фона, режим смешивания поменяет белый цвет на противоположный — чёрный. А когда псевдоэлемент начнёт «наезжать» своим чёрным фоном, режим смешивания будет менять надпись на белую.
Для хранения цвета текста используйте переменные. В кнопке «Сохранить на память» лежит иконка дискеты. Не забудьте применить режим смешивания и к ней.

Фокус на кнопке с сердцем

Для оборачивающей сердце кнопки описан только фокус. Все остальные состояния будут производиться внутри самой иконки.
В состоянии focus-visible у кнопки появляется рамка — сплошная линия акцентного цвета шириной два пикселя. Не забудьте убрать обводку у состояния focus. Граница должна появляться плавно: 0.3s ease. Переход должен срабатывать при событии фокуса и при его снятии, описывайте настройки в основном селекторе. Проконтролируйте размеры, при фокусе высота сходится с кнопкой справа.
Самый простой подход к получению корректного отображения — стилизовать прозрачную границу у кнопки в стандартном состоянии и при фокусе изменять только цвет границы.

Шаг 8. Анимация иконки сердца

Подготовка SVG

Чтобы разобраться с анимацией сердца, нужно посмотреть на структуру его svg-кода и немного его подредактировать.
Посмотрим в Figma:

Сердцевина, основное тело, контур и искры вокруг дизайнер разложил на отдельные слои. Часто в рабочей ситуации всё не так удобно, приходится через инструменты разработчика самим выискивать кривые и раскладывать их по нужным слоям.
Если скачать или скопировать svg-код фрейма heart in paths, вы увидите внутри тега svg четыре тега path и некоторую «лишнюю» разметку. Дело в том, что при экспорте иконки Figma старается сохранить максимальную совместимость и иногда добавляет избыточную разметку. Перед дальнейшей работой тег <defs> с внутренним содержимым и <g> атрибутом clip-path нужно удалить.

Когда вы подготовили svg-иконку, нужно заменить ею временную иконку лайка. Не забудьте добавить тегу svg класс like-icon, он нужен для анимаций.
Все будущие анимации строятся на том, чтобы перекрашивать или масштабировать разные path в этом svg, поэтому следующим этапом каждый path хорошо бы назвать своим именем класса.
Обязательно посмотрите на кривые path через инструменты разработчика — так вам будет проще понять, какая кривая за что отвечает и какое наименование класса выбрать для каждой. Мы выбрали такие имена классов и дальше будем использовать их:
core — сердцевина; 
contour — контур; 
main-body — основное тело сердца; 
sparks — искры вокруг. 
Ещё в рамках одной из анимаций вам нужно будет увеличить всё сердце, но без искр. Поэтому лучше сразу объединить в разметке core, contour и main-body в группу с классом heart — для этого используйте контейнер <g></g>.
В стандартном состоянии цвет основного тела и сердцевины прозрачный. Замените значения цветов в атрибутах fill на transparent — с искрами поработаем чуть позже. Получится так:

Цвет контура вынесите в переменную. Вы можете указывать ссылку на переменную прямо в атрибуте fill, вот так: fill="var(--name)".
Удобно, когда все нужные цвета лежат в переменных. Одна у вас уже есть — контур. Второй переменной — например, --animation-fill-color — будет цвет заливки (красный). Создайте такую переменную и укажите её в качестве значения fill для искр — например, --contour-color.
Мы могли бы скрыть искры, указав fill: transparent;, это тоже хороший подход. Но мы предпочли скрыть их через opacity в CSS. Подходы равноценны. В нашем варианте искры будут появляться и становиться видимыми, но не будут приобретать цвет. Вы можете выбрать любой из этих подходов.
Вот результат, который у вас должен получиться:
сердцевина и основное тело не залиты цветом; 
заливка контура ссылается на переменную; 
заливка искр ссылается на переменную; 
искрам задана прозрачность в CSS.

Шаг 9. Анимация сердца

Сердце анимируется в трёх состояниях: при наведении (и наоборот, когда уводим курсор), при нажатии и удержании (в состоянии :active), при клике.
Для реализации придётся написать достаточно много кода. Рекомендуем вынести цвета контура и заливки в отдельные переменные.
Состояние по умолчанию

Контуру, основному телу и сердцевине понадобятся переходы (transition) по умолчанию. Они будут срабатывать при любом изменении fill. Только для контура переход быстрый, а для остальных элементов — более медленный.
Добавьте линейный переход длительностью 0.1s для fill цвета контура. Переход пригодится позже, когда контур будет возвращаться из красного цвета в исходный. 
Сердцевину нужно сделать прозрачной. Позже мы стилизуем плавное проявление при наведении курсора. Переход по умолчанию нужен линейный, с длительностью 0.3s и небольшой задержкой 0.03s. Задержка нужна, чтобы при снятии курсора (отмене действия наведения) сердцевина исчезала после основного тела. 
Основное тело тоже прозрачное. Переход по умолчанию нужен линейный, с длительностью 0.3s, только уже без задержки. Это базовое состояние для основной части сердца.
Для быстрой сверки — вот таблица с параметрами переходов для элементов по умолчанию:
Состояние :hover

При наведении на иконку сначала закрашивается акцентным цветом сердцевина, а потом — основное тело. Все переходы при наведении производятся последовательно, а вот с длительностью и задержкой нужно разбираться отдельно.
Для реализации нам не понадобится директива @keyframes. Для нужных элементов иконки достаточно просто описать переход (transition) для правила fill.
Для стилизации вам понадобится отслеживать наведение на основной обёртке (.like-icon), а после — выбирать нужный элемент. При наведении на любую часть иконки .like-icon должна срабатывать стилизация для всех кривых, а не только для той, на которую навёлся курсор. В дальнейшем такой же подход с отслеживанием состояния будет использоваться и для стилизации активного состояния.
Для стилизации при клике на иконку будут небольшие изменения, их рассмотрим позже.
Разберёмся с появлением сердцевины:
Измените значение fill цвета при наведении мышки. 
Переход остаётся таким же, как в стандартном состоянии: сохраняются длительность и функция перехода, но нужно будет отменить задержку в 0.03s, которая наследуется от стандартного состояния. 
Для основного тела:
Измените значение fill цвета при наведении мышки. 
Переход остаётся таким же, как в стандартном состоянии: сохраняются длительность и функция перехода, но понадобится изменить задержку на 0.05s.

Для быстрой сверки — вот таблица с параметрами переходов для элементов при наведении:
Состояние :active

При нажатии и удержании кнопки мышки сердцевина и основное тело сердца закрашиваются основным цветом анимации — красным. Контур не перекрашивается. Когда вы отпускаете кнопку, происходит клик — но это уже другая анимация.
Чтобы добиться такого эффекта при зажатии, вам нужно прописать абсолютно те же настройки transition, как и для эффекта при наведении, но при этом поменять цвет на красный.

Для быстрой сверки — вот таблица с параметрами переходов для элементов при активации:
Клик по иконке

Как только по иконке происходит клик, скрипт добавляет тегу svg с классом like-icon дополнительный класс is-liked, а при повторном клике убирает его. Это позволит вам создавать селекторы вроде .like-icon.is-liked .contour и описать для них переходы и анимацию.
Вот что происходит при клике:
Закрашивается сердцевина. 
С небольшой задержкой закрашивается основное тело. 
Ещё с большей задержкой закрашивается контур. 
Происходит небольшое масштабирование сердца и возврат к исходному масштабу. 
Становятся видимыми и пропадают искры. 
Цвет заливки во всех случаях красный. А время задержек не описывает завершение предыдущего шага. Мы всего лишь начинаем анимации чуть позже, чтобы каждая из них пришла в финальное состояние после завершения предыдущей. Так получается визуальная плавность.
Вот замедленное покадровое видео, на нём легче рассмотреть детали:

Перекрашивать сердцевину и основное тело вы уже умеете. Используйте абсолютно те же параметры, что и при состоянии active.
Для контура:
Измените значение fill цвета. 
Переход наследует только линейную функцию из стандартного состояния. Длительность изменяется на 0.3s, а задержка — на 0.06s.
Для быстрой сверки — вот таблица с параметрами переходов для элементов при выборе иконки:
Чтобы масштабировать сердце и сделать вспышку искр, придётся написать два @keyframes:
Масштабирование с 1 до 1.25. Эту анимацию нужно запустить на всей группе элементов .heart. Сделать это нужно через 0.1s после появления в разметке класса is-liked. Масштабирование должно длиться 0.3s с плавностью ease-in и происходить однократно. Понадобится добавить transform-origin: center для .like-icon, чтобы анимация масштабирования происходила от центра. 
Кифрейм для искр — изменение прозрачности или заливки (как вам удобно). Эта анимация длится 0.3s и запускается через 0.3s. Происходит это однократно, с плавностью ease-in. 
@keyframes разметите в файле animations.css.